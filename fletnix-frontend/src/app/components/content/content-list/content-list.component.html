<div class="min-h-screen bg-gradient-to-b from-gray-900 to-black text-white">
  <!-- Stylish Responsive Header -->
  <header class="bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 border-b border-netflix-red shadow-lg">
    <div class="max-w-7xl mx-auto">
      <!-- Mobile Layout -->
      <div class="flex flex-col space-y-3 p-4 md:hidden">
        <div class="flex justify-between items-center">
          <h1 class="text-3xl font-bold text-netflix-red drop-shadow-lg">
            <span class="bg-gradient-to-r from-netflix-red to-red-600 bg-clip-text text-transparent">
              FletNix
            </span>
          </h1>
          <button 
            (click)="logout()" 
            class="bg-gradient-to-r from-netflix-red to-red-600 text-white px-4 py-2 text-sm rounded-lg hover:from-red-600 hover:to-red-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
            <i class="fas fa-sign-out-alt mr-1"></i>
            Logout
          </button>
        </div>
        <div class="text-center bg-gray-800 bg-opacity-50 rounded-lg py-2">
          <span class="text-gray-300 text-sm">Welcome, <span class="text-netflix-red font-semibold">{{ currentUser?.name || currentUser?.email }}</span></span>
          <div class="text-gray-400 text-xs mt-1">
            <i class="fas fa-user mr-1"></i>Age: {{ currentUser?.age }}
          </div>
        </div>
      </div>
      
      <!-- Desktop Layout -->
      <div class="hidden md:flex justify-between items-center p-6">
        <h1 class="text-4xl font-bold">
          <span class="bg-gradient-to-r from-netflix-red via-red-500 to-red-600 bg-clip-text text-transparent drop-shadow-2xl">
            FletNix
          </span>
        </h1>
        <div class="flex items-center space-x-6">
          <div class="text-right">
            <div class="text-gray-300">Welcome, <span class="text-netflix-red font-semibold">{{ currentUser?.name || currentUser?.email }}</span></div>
            <div class="text-sm text-gray-400">
              <i class="fas fa-user mr-1"></i>Age: {{ currentUser?.age }}
            </div>
          </div>
          <button 
            (click)="logout()" 
            class="bg-gradient-to-r from-netflix-red to-red-600 text-white px-6 py-3 rounded-lg hover:from-red-600 hover:to-red-700 transform hover:scale-105 transition-all duration-200 shadow-xl">
            <i class="fas fa-sign-out-alt mr-2"></i>
            Logout
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="max-w-7xl mx-auto p-4 md:p-6">
    <!-- Enhanced Search and Filters Section -->
    <div class="mb-8 bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 rounded-2xl p-6 shadow-2xl border border-gray-600">
      <h2 class="text-xl md:text-2xl font-bold mb-6 text-center">
        <i class="fas fa-search mr-2 text-netflix-red"></i>
        <span class="bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">
          Discover Amazing Content
        </span>
      </h2>
      
      <!-- Search -->
      <div class="mb-6">
        <div class="relative">
          <input
            type="text"
            placeholder="Search movies, TV shows, cast..."
            (input)="onSearch($event)"
            class="w-full pl-12 pr-4 py-4 bg-gray-900 border-2 border-gray-600 rounded-xl text-white placeholder-gray-400 focus:border-netflix-red focus:outline-none text-sm md:text-base transition-all duration-300 shadow-inner"
          >
          <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
        </div>
      </div>
      
      <!-- Filters Row -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <!-- Type Filter -->
        <div class="relative">
          <label class="block text-sm font-medium text-gray-300 mb-2">
            <i class="fas fa-film mr-2 text-netflix-red"></i>
            Content Type
          </label>
          <select 
            (change)="onTypeFilter($event)"
            class="w-full px-4 py-3 bg-gray-900 border-2 border-gray-600 rounded-lg text-white focus:border-netflix-red focus:outline-none text-sm md:text-base transition-all duration-300 appearance-none cursor-pointer shadow-inner"
          >
            <option value="">All Types</option>
            <option value="Movie">ðŸŽ¬ Movies</option>
            <option value="TV Show">ðŸ“º TV Shows</option>
          </select>
          <i class="fas fa-chevron-down absolute right-3 top-12 text-gray-400 pointer-events-none"></i>
        </div>
        
        <!-- Genre Filter -->
        <div class="relative">
          <label class="block text-sm font-medium text-gray-300 mb-2">
            <i class="fas fa-tags mr-2 text-netflix-red"></i>
            Genre
          </label>
          <select 
            (change)="onGenreFilter($event)"
            class="w-full px-4 py-3 bg-gray-900 border-2 border-gray-600 rounded-lg text-white focus:border-netflix-red focus:outline-none text-sm md:text-base transition-all duration-300 appearance-none cursor-pointer shadow-inner"
          >
            <option value="">All Genres</option>
            <option *ngFor="let genre of genres" [value]="genre">{{ genre }}</option>
          </select>
          <i class="fas fa-chevron-down absolute right-3 top-12 text-gray-400 pointer-events-none"></i>
        </div>
      </div>
    </div>

    <!-- Active Filters Display -->
    <div *ngIf="searchTerm || selectedType || selectedGenre" class="mb-6 flex flex-wrap gap-3">
      <div class="flex items-center text-sm font-medium text-gray-300">
        <i class="fas fa-filter mr-2 text-netflix-red"></i>
        Active Filters:
      </div>
      <span *ngIf="searchTerm" class="bg-gradient-to-r from-netflix-red to-red-600 px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
        <i class="fas fa-search mr-2"></i>
        "{{ searchTerm }}"
        <button (click)="searchTerm=''; loadContent()" class="ml-2 hover:text-gray-300 font-bold">Ã—</button>
      </span>
      <span *ngIf="selectedType" class="bg-gradient-to-r from-blue-600 to-blue-700 px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
        <i class="fas fa-film mr-2"></i>
        {{ selectedType }}
        <button (click)="selectedType=''; loadContent()" class="ml-2 hover:text-gray-300 font-bold">Ã—</button>
      </span>
      <span *ngIf="selectedGenre" class="bg-gradient-to-r from-green-600 to-green-700 px-4 py-2 rounded-full text-sm font-semibold shadow-lg">
        <i class="fas fa-tags mr-2"></i>
        {{ selectedGenre }}
        <button (click)="selectedGenre=''; loadContent()" class="ml-2 hover:text-gray-300 font-bold">Ã—</button>
      </span>
    </div>

    <!-- Results Info -->
    <div *ngIf="!loading && !error" class="mb-6 text-gray-300 text-sm md:text-base flex items-center">
      <i class="fas fa-list-ul mr-2 text-netflix-red"></i>
      Showing <span class="text-netflix-red font-bold mx-1">{{ content.length }}</span> of 
      <span class="text-netflix-red font-bold mx-1">{{ totalItems }}</span> results
      <span *ngIf="searchTerm || selectedType || selectedGenre" class="hidden sm:inline ml-2 text-gray-400">
        with active filters
      </span>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="text-center py-16">
      <div class="inline-flex items-center text-lg md:text-xl text-netflix-red">
        <i class="fas fa-spinner fa-spin mr-3 text-2xl"></i>
        Loading Netflix content...
      </div>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="text-center py-16">
      <div class="text-red-400 text-lg md:text-xl mb-4">
        <i class="fas fa-exclamation-triangle mr-2"></i>
        {{ error }}
      </div>
      <button 
        (click)="loadContent()" 
        class="bg-gradient-to-r from-netflix-red to-red-600 text-white px-8 py-3 rounded-lg hover:from-red-600 hover:to-red-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
        <i class="fas fa-redo mr-2"></i>
        Try Again
      </button>
    </div>

    <!-- Beautiful Content Grid -->
    <div *ngIf="!loading && !error" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6">
      <div *ngFor="let item of content" 
           (click)="viewDetail(item._id)"
           class="group relative bg-gradient-to-b from-gray-800 to-gray-900 rounded-2xl overflow-hidden hover:transform hover:scale-105 transition-all duration-500 cursor-pointer border border-gray-700 hover:border-netflix-red shadow-xl hover:shadow-2xl">
        
        <!-- Content Card -->
        <div class="p-4 md:p-5">
          <!-- Title with gradient -->
          <h3 class="font-bold text-base md:text-lg mb-3 line-clamp-2 group-hover:text-transparent group-hover:bg-gradient-to-r group-hover:from-netflix-red group-hover:to-red-600 group-hover:bg-clip-text transition-all duration-300">
            {{ item.title }}
          </h3>
          
          <!-- Type and Year with icons -->
          <div class="flex items-center text-xs md:text-sm text-gray-400 mb-3">
            <i class="fas {{ item.type === 'Movie' ? 'fa-film' : 'fa-tv' }} mr-2 text-netflix-red"></i>
            <span>{{ item.type }}</span>
            <span class="mx-2">â€¢</span>
            <i class="fas fa-calendar mr-1 text-gray-500"></i>
            <span>{{ item.release_year }}</span>
          </div>
          
          <!-- Description -->
          <p class="text-xs md:text-sm text-gray-300 mb-4 line-clamp-2 md:line-clamp-3 leading-relaxed">
            {{ item.description }}
          </p>
          
          <!-- Cast - Show on larger screens -->
          <div class="hidden sm:block mb-4">
            <div class="text-xs text-gray-500 mb-1">
              <i class="fas fa-users mr-1 text-netflix-red"></i>
              <strong>Cast:</strong>
            </div>
            <p class="text-xs text-gray-400 line-clamp-1">{{ item.cast }}</p>
          </div>
          
          <!-- Genres with beautiful tags -->
          <div class="mb-4">
            <div class="flex flex-wrap gap-1">
              <span *ngFor="let genre of item.listed_in.split(',').slice(0, 2)" 
                    class="inline-block bg-gradient-to-r from-gray-700 to-gray-800 text-gray-300 px-2 py-1 rounded-full text-xs border border-gray-600 hover:border-netflix-red transition-colors duration-300">
                {{ genre.trim() }}
              </span>
            </div>
          </div>
          
          <!-- Rating and Duration -->
          <div class="flex justify-between items-center">
            <div class="flex items-center">
              <span class="bg-gradient-to-r from-netflix-red to-red-600 text-white px-3 py-1 rounded-lg text-xs font-bold shadow-lg">
                <i class="fas fa-star mr-1"></i>
                {{ item.rating }}
              </span>
            </div>
            <div class="flex items-center text-xs text-gray-400">
              <i class="fas fa-clock mr-1 text-netflix-red"></i>
              {{ item.duration }}
            </div>
          </div>
          
          <!-- Hover overlay -->
          <div class="absolute inset-0 bg-gradient-to-t from-netflix-red via-transparent to-transparent opacity-0 group-hover:opacity-30 transition-opacity duration-500"></div>
          
          <!-- Click hint - Hide on mobile -->
          <div class="hidden md:block absolute bottom-4 left-4 right-4 text-xs text-center text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black bg-opacity-70 rounded-lg py-2">
            <span class="inline-flex items-center font-semibold">
              <i class="fas fa-play mr-2 text-netflix-red"></i>
              Click for details
            </span>
          </div>
        </div>
      </div>
    </div>

    <!-- Beautiful Pagination -->
    <div *ngIf="!loading && !error && totalPages > 1" class="mt-12 flex justify-center">
      <div class="bg-gradient-to-r from-gray-800 to-gray-900 rounded-2xl p-6 shadow-2xl border border-gray-600">
        <div class="flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4">
          <button 
            *ngIf="currentPage > 1"
            (click)="onPageChange(currentPage - 1)"
            class="w-full sm:w-auto bg-gradient-to-r from-gray-700 to-gray-800 text-white px-6 py-3 rounded-lg hover:from-gray-600 hover:to-gray-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
            <i class="fas fa-chevron-left mr-2"></i>
            Previous
          </button>
          
          <div class="flex items-center bg-gradient-to-r from-netflix-red to-red-600 text-white px-6 py-3 rounded-lg font-bold shadow-lg">
            <i class="fas fa-bookmark mr-2"></i>
            Page {{ currentPage }} of {{ totalPages }}
          </div>
          
          <button 
            *ngIf="currentPage < totalPages"
            (click)="onPageChange(currentPage + 1)"
            class="w-full sm:w-auto bg-gradient-to-r from-gray-700 to-gray-800 text-white px-6 py-3 rounded-lg hover:from-gray-600 hover:to-gray-700 transform hover:scale-105 transition-all duration-200 shadow-lg">
            Next
            <i class="fas fa-chevron-right ml-2"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- No Results State -->
    <div *ngIf="!loading && !error && content.length === 0" class="text-center py-16">
      <div class="text-6xl text-gray-600 mb-4">
        <i class="fas fa-search"></i>
      </div>
      <div class="text-xl md:text-2xl text-gray-400 mb-2">No content found</div>
      <div class="text-sm text-gray-500">Try adjusting your search terms or filters</div>
    </div>
  </div>
</div>
